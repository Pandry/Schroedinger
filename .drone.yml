kind: pipeline
name: CI

steps:
- name: build
  image: debian:stretch
  commands: 
  - echo "deb http://ftp.us.debian.org/debian testing main contrib non-free" >> /etc/apt/sources.list
  - apt-get -y update 
  - apt-get -t testing update
  - apt-get -y -t testing install build-essential 
  - apt-get -y -t testing install cmake
  - apt-get -y -t testing install git
  - mkdir build
  - cd build
  - cmake ..
  - make
  
- name: tests
  image: debian:stretch
  commands:
  - build/bin/unit_tests
